# ğŸ“˜ IT Audit Risk Analytics Pipeline (Python)

This project is an end-to-end **IT Audit Analytics pipeline** that processes enterprise-style access logs, generates user and permission datasets, applies audit rules, and produces a complete **IT Risk Register** ready for dashboarding in Power BI or Tableau.

It simulates a realistic IT General Controls (ITGC) access review using a public dataset, automated Python processing, and clearly defined audit logic.

---

## ğŸ” Overview

The project performs:

- Ingestion of a real public access log dataset  
- Creation of synthetic user & permissions tables  
- Behavioural metrics per user  
- IT audit rule checks  
- Construction of a **risk_register.csv** file  
- Dashboard-ready datasets for BI tools  

Everything is automated through a single Python pipeline.

---

## ğŸ“ Project Structure

```
it-audit-risk-dashboard/
â”‚
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ raw/                      # Place downloaded dataset here
â”‚   â””â”€â”€ processed/                # Output files generated by pipeline
â”‚
â”œâ”€â”€ src/
â”‚   â””â”€â”€ build_risk_register.py    # Main pipeline script
â”‚
â”œâ”€â”€ reports/
â”‚   â””â”€â”€ powerbi/
â”‚       â””â”€â”€ screenshots/          # Example dashboard images
â”‚
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md
```

---

## ğŸ—‚ï¸ Dataset

This project uses the public **Access-Log-Anomaly-Detection Dataset**, which includes:

- Timestamped access events  
- Masked user identifiers  
- Source/Destination IPs  
- Device types  
- Actions (modify, login, deleteâ€¦)  
- Resource paths  
- Anomaly scores  
- Benign/Malicious labels  

Download the CSV and place it here:

```
data/raw/Access-Log-Anomaly-Detection-Dataset.csv
```

---

## âš™ï¸ Pipeline Steps

### **1. Load & Clean Logs**
- Normalize column names  
- Parse timestamps  
- Derive:
  - hour of day  
  - weekday/weekend  
  - off-hours flag  
  - day of week  

---

### **2. Generate Synthetic User Master Data**
The script auto-creates a realistic user table:

- Department  
- Role (engineer, analyst, admin, etc.)  
- MFA Enabled (Yes/No)  
- Active / Terminated  
- Join/Termination dates  
- Manager  

This simulates HR/IAM system metadata.

---

### **3. Generate System Permissions**
Each user receives:

- A set of systems (from log resource names)  
- Access level: read / write / admin  
- Higher admin probability for IT & Admin roles  

---

### **4. Enrich Logs**
Logs are merged with user attributes to produce enriched event data:

- Behaviour patterns  
- Device usage  
- IP diversity  
- Time-based trends  

---

### **5. Compute User Behaviour Metrics**
Metrics include:

- Total events  
- Malicious event count  
- Average & maximum anomaly score  
- Off-hours activity ratio  
- Unique IP addresses used  
- Unique devices used  
- First/last seen timestamps  

---

### **6. Build the IT Risk Register**
The script applies realistic IT Audit tests:

#### ğŸ” *Access Management*
- Admin accounts without MFA  
- Ex-employee accounts still active  
- Excessive admin access  

#### ğŸ•’ *Monitoring & Logging*
- Multiple malicious-labelled events  
- High anomaly behaviour  
- Predominantly off-hours activity  
- Many distinct IP addresses  

#### ğŸ’¤ *Dormant Accounts*
- Active accounts unused for >180 days  

Each record contains:

- User ID  
- Department  
- Role  
- Risk type  
- Severity (High/Medium/Low)  
- Description  
- Evidence  
- Severity score (numeric)  

Output file:

```
data/processed/risk_register.csv
```

---

## ğŸ“Š Dashboarding (Power BI / Tableau)

Using **data/processed/**, you can build:

- Risks by Severity  
- Risks by Department  
- Risks by Type  
- High-Risk Users  
- User-level drilldown pages  
- Time-based charts (malicious events, anomaly spikes, off-hours activity)  

Example placeholder screenshots are included in:

```
reports/powerbi/screenshots/
```

---

## ğŸ› ï¸ How to Run the Pipeline

```bash
python3 -m venv venv
source venv/bin/activate        # Mac/Linux
pip install -r requirements.txt
python src/build_risk_register.py
```

After running, check:

```
data/processed/
```

You should see:

- `users.csv`
- `permissions.csv`
- `logs_enriched.csv`
- `user_metrics.csv`
- `risk_register.csv`

---

## ğŸ¯ Purpose & Relevance

This project demonstrates capabilities essential for:

- IT Audit (ITGC)  
- Cybersecurity Audit  
- Risk & Compliance Analytics  
- SOC Reporting  
- Python Data Engineering  
- BI Dashboard Development  

It mirrors the work done in:

- Big Four Audit firms  
- Internal audit departments  
- Cybersecurity consulting teams  
- IAM/Access Governance functions  

---

## ğŸ§  Key Skills Demonstrated

- Python (pandas data processing)  
- Audit rule design & implementation  
- Log enrichment & event analytics  
- Behavioural anomaly detection  
- Risk scoring and ranking  
- Data modeling for BI dashboards  
- End-to-end automation pipeline design  

---
